<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<app-header></app-header>
<app-navbar></app-navbar>
<br>
<br>
<br>
<div class="checkout">
  <div class="container">
    <div class="row">
      <h2>Số lượng sản phẩm trong giỏ hàng <span>{{countProduct}} sản phẩm</span></h2>
      <button style="margin-left: 910px;margin-bottom: 20px;" data-toggle="modal" data-target="#exampleModal-shop-cart" type="submit" class="btn button-shop-cart" ><i class="fa-solid fa-basket-shopping" style="margin-right: 5px"></i>Thanh Toán</button>
    </div>

    <div class="checkout-right">
      <table class="timetable_sub">
        <thead>
        <tr>
          <th style="font-size: 18px">STT</th>
          <th style="font-size: 18px">Hình ảnh</th>
          <th style="font-size: 18px">Số Lượng</th>
          <th style="font-size: 18px">Tên Sản Phẩm</th>

          <th style="font-size: 18px">Giá</th>
          <th style="font-size: 18px">Xóa</th>
        </tr>
        </thead>
        <tr class="rem1" *ngFor="let cart of carts; index as i">
          <td class="invert">{{i+1}}</td>
          <td style="width: 200px" class="invert-image"><img src="{{cart.product.image[0].image}}" alt="" style="border-radius: 5px;border:1px solid white; height:170px;width:200px" class="img-responsive" /></td>
          <td class="invert">
            <form [formGroup]="editCartForm">
              <div class="quantity">
                <div class="quantity-select">
                  <button (click)="downCountPr(i)" style="border: none"><i class="entry value-minus">&nbsp;</i></button>
                  <div style="margin-left: 3px; top: -8px; position: relative;" class="entry value" formControlName="quantity"><span>{{cart.quantity}} </span></div>
                  <button (click)="upCountPr(i)" style="border: none"><div class="entry value-plus active">&nbsp;</div></button>
                </div>
              </div>
            </form>

          </td>
          <td class="invert">{{cart.product.name}}</td>

          <td class="invert">{{cart.product.price}} $</td>
          <td class="invert">
            <div class="rem">
              <button  class="btn button-delete" style="background-color: grey"  (click)="delete(cart.id)"><i class="fa-solid fa-trash"></i> </button>
            </div>
          </td>
        </tr>
      </table>
    </div>
    <!---728x90--->
    <div class="checkout-left">
      <div class="checkout-left-basket">

      </div>
      <div class="checkout-right-basket" >
        <a href="/" style="background-color: #fe9126;border-radius: 5px">Tiếp Tục Mua Sắm <i class="fa-solid fa-cart-shopping" style="margin-left: 5px"></i></a>
      </div>
      <div class="clearfix"> </div>
    </div>
  </div>
</div>
<app-footer></app-footer>
<!-- Button trigger modal -->
<!-- Modal -->
<div class="modal fade" id="exampleModal-shop-cart" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLabel" style="text-align: center">Hóa Đơn Thanh Toán</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" >
      <div>
        <div>
          <div>
                    <table class="timetable_sub">
                      <thead >
                      <tr style="width: 848px">
                        <th style="width: 212px;height: 50px">STT</th>
                        <th style="width: 212px;height: 50px" colspan="2">Tên sản phẩm</th>
                        <th style="width: 212px;height: 50px">Số lượng</th>
                        <th style="width: 212px;height: 50px" colspan="2">giá($)</th>
                      </tr>
                      </thead>
                      <tr class="rem1" *ngFor="let cart of carts; index as i">
                        <td style="height: 50px">{{i+1}}</td>
                        <td colspan="2">{{cart.product.name}}</td>
                        <td>{{cart.quantity}}</td>
                        <td style="font-weight: 600" colspan="2">{{cart.product.price*cart.quantity}}</td>
                      </tr>
                      <td colspan="3" style="font-size: 20px;font-weight: 600"><i class="fa-solid fa-sack-dollar" style="margin-right: 5px"></i>Tổng:</td>
                      <td style="font-size: 20px;font-weight: 600">{{totalQuantity1}}</td>
                      <td style="height: 50px;font-weight: 600;font-size: 18px">{{totalMoney}}</td>
                    </table>
          </div>
          <div class="clearfix"> </div>
        </div>
      </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn button-shop-cart" style="margin-right: 350px" (click)="checkout()">Xác Nhận</button>
      </div>
    </div>
  </div>
</div>


